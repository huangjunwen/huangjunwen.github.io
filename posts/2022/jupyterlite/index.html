<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jupyterlite</title>
    
    <link rel="stylesheet" href="/res/libs/fontawesome/css/all.min.css"></link>
    <link rel="stylesheet" href="/res/libs/chota/css/chota.min.css"></link>

    <link rel="stylesheet" href="/res/style/site-gruvbox-soft.min.37b77c57810deb7939641a4f43faae01cac538b7162f44570e912835c9f6b11c.css"></link>
    <script type="text/javascript" src="/res/script/site.min.a65b2836eec5187e9e88be5dae41f6f388a8c97455a87c31ff2e118d8b3bcd81.js"></script>

    <link id="markdown-body-style" rel="stylesheet" href="/res/style/markdown-body-gruvbox-soft.min.5a7178d1ccb635392ad5eb7f18d9e2157d6af5697efa4e718d5ece464a91e571.css"></link>
    <script type="text/javascript" src="/res/script/markdown-body.min.35e011193a484812039d96b17af075e907d451e72d29301c94e49f045c43c19d.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">


  </head>

  <body>
    
    <div id="header">
      
      <nav id="navbar" class="row">
        <div class="is-left col-12 col-3-md row">
          <a id="navbar-brand" class="brand" href="/">Coder Papa</a>
          <label id="navbar-toggle-menu" for="navbar-toggle-menu-state" class="hide-md hide-lg">
            <span></span>
            <span></span>
            <span></span>
          </label>
        </div>
        <input id="navbar-toggle-menu-state" type="checkbox" style="display:none"></input>
        <div id="navbar-menu" class="is-right col-12 col-9-md row hide-xs-noimportant hide-sm-noimportant">
          
          <a href="/posts">Posts</a>
          
          
          <a href="/categories">Categories</a>
          
          <a href="/tags">Tags</a>
          
          
          <a href="https://github.com/huangjunwen"><i class='fab fa-github'></i></a>
          
          <a href="javascript:void(0)" id="navbar-toggle-mode" onclick="return toggleColorMode()"></a>
        </div>
      </nav>
    </div>

    
    <div id="main" class="row">
      <div id="main-left" class="hide-xs hide-sm col-2-md col-3-lg">
        
      </div>
      <div id="main-center" class="col-12 col-8-md col-6-lg mdb">
        <div id="main-title" class="text-center">
          
  <h5 class="no-toc"><span class="breadcrumbnav"><span><a href="/posts/">POSTS</a></span><i class="fa fa-fw fa-angle-double-right"></i><span><a href="/posts/2022/">2022</a></span></span></h5>
  <h1>Jupyterlite</h1>
  <small>
    <time class="" datetime="2022-08-27T10:14:17Z">Sat, 2022/08/27</time>
  </small>
  <p>
    
    <a href="/tags/python/"><span class="tag is-small">python</span></a>
    <a href="/tags/jupyter/"><span class="tag is-small">jupyter</span></a>
    <a href="/tags/jl/"><span class="tag is-small">jl</span></a>
    
  </p>
  
        </div>
        <div id="main-body">
          
  <article id="content-body">
    <p>最近总是接触各种
Jupyter…（JupyterLab/JupyterHub），发现居然还有可以完全跑在浏览器上的 <a
href="https://github.com/jupyterlite/jupyterlite">Jupyterlite</a>，那是不是可以直接放一个到这儿呢？</p>
<h2 id="大致的概念">大致的概念</h2>
<p>原来的 Jupyter 是传统的 CS 模式，各种语言（e.g. python）的 kernel
是跑在服务端的</p>
<p>但现在也有了 python（和一些常用的库）的 WebAssembly 移植版（e.g. <a
href="https://pyodide.org/en/stable/">pyodide</a>）， 这样一来 kernel
也可以在浏览器上实现了 （e.g. <a
href="https://jupyterlite.readthedocs.io/en/latest/quickstart/using.html#a-python-kernel-powered-by-pyodide">pyolite</a>），
因此可以创建一个全静态的 site，UI 和 kernel 都在浏览器中运行， 中间用 <a
href="https://jupyterlite.readthedocs.io/en/latest/quickstart/using.html#kernels">mock-socket</a>
假装通讯， 完整地把 notebook 那一套 CS 模式移植过来</p>
<h2 id="部署">部署</h2>
<p><em>2023-04-07 更新</em></p>
<p>目前 jupyterlite 已经发布 0.1.0 版本，部署到 gthub page
已十分简单，基本上就是 clone 一个 template repo 即可，见<a
href="https://jupyterlite.readthedocs.io/en/latest/quickstart/deploy.html">这里</a></p>
<h2 id="内容">内容</h2>
<p>在 repo 里有一个 content 目录，把内容（例如 ipynb
文件）放入该目录即可</p>
<p>另外发现 <a
href="https://github.com/jupyterlab-contrib/jupyterlab-open-url-parameter"
class="uri">https://github.com/jupyterlab-contrib/jupyterlab-open-url-parameter</a>
安装了该 extension 后允许在 url 参数中直接指定内容的地址， 例如访问</p>
<blockquote>
<p><a
href="https://your-name.github.io/jupyterlite/lab/?fromURL=/path/to/your.ipynb"
class="uri">https://your-name.github.io/jupyterlite/lab/?fromURL=/path/to/your.ipynb</a></p>
</blockquote>
<p>则打开的 jupyterlite 会自动打开该 notebook</p>
<h2 id="使用">使用</h2>
<h3 id="不同之处">不同之处</h3>
<p>原 CS 模式下，packages 是在服务器上安装好，可以直接 <code
class="language-plaintext">import</code>，而在 jupyterlite 中，似乎除
pyodide 自带的那些包外， 需要首先 <code
class="language-plaintext">piplite.install</code> 才能 <code
class="language-plaintext">import</code>，例如：</p>
<pre class="language-python code"><code>import pyjokes
pyjokes.get_joke()</code></pre>
<p>这是会失败的</p>
<pre class="language-python code"><code>import piplite
await piplite.install(&#39;pyjokes&#39;)
import pyjokes
pyjokes.get_joke()</code></pre>
<p>这样才行，看看<a
href="/jl/lab?fromURL=/posts/2022/jupyterlite/jl.ipynb">效果</a></p>

  </article>

  <div id="content-comment">
    
      <script type="text/javascript" src="/res/script/giscus.min.9cadd4e022885425c942d9f1ecb984e2e72dd0aedd1e0cf0dfc75773e301dcaa.js"></script>
      <script>
        createGiscus({
          "repo":               "huangjunwen\/huangjunwen.github.io",
          "repoId":             "MDEwOlJlcG9zaXRvcnk3Njg1MDM5OQ==",
          "category":           "Announcements",
          "categoryId":         "DIC_kwDOBJSk384CXDLR",
          "mapping":            "pathname",
          "strict":             "0",
          "reactionsEnabled":   "1",
          "inputPosition":      "top",
          "lightTheme":         "https:\/\/huangjunwen.github.io\/res\/style\/giscus-light-gruvbox-soft.min.f7a2061b6bd090f275d7d33c31f03a76acd5cb69ad2bf6ad0b1089fc80e2cb4e.css",
          "darkTheme":          "https:\/\/huangjunwen.github.io\/res\/style\/giscus-dark-gruvbox-soft.min.ca9fff96b0a35ad373d69275fad63708399bbc5c733891675010df782733e809.css",
          "containerId":        "content-comment"
        });
      </script>
    
  </div>


        </div>
      </div>
      <div id="main-right" class="hide-xs hide-sm col-2-md col-3-lg">
        
  
  <div id="content-toc" class="toc hide-md"></div>
  

      </div>
    </div>

    
    <div id="footer" class="text-center">
      <p>
        Powered By <a href="https://gohugo.io/">Hugo</a>/<a href="https://jenil.github.io/chota">Chota</a>,
        Generated Using <a href="https://github.com/huangjunwen/mdtool">MDTool</a>
      </p>
      <p>&copy; 2023. All rights reserved</p>
    </div>

    
  
    <link rel="stylesheet" href="/res/libs/tocbot/css/tocbot.css"></link>
    <style>
    #content-toc {
      position: -webkit-sticky;
      position: sticky;
      top: 7rem;
      padding-left: 2rem;
      padding-right: 1rem;
    }

    #content-toc a.toc-link {
      color: var(--font-color);
    }

    #content-toc a.toc-link.is-active-link {
      color: var(--color-darkGrey);
    }

    #content-toc a.toc-link::before {
      background-color: var(--bg-color);
    }

    #content-toc a.toc-link.is-active-link::before {
      background-color: var(--color-primary);
    }
    </style>
    <script src="/res/libs/tocbot/js/tocbot.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', (ev) => {
      tocbot.init({
        tocSelector: '#content-toc',
        contentSelector: '#main-center',
        ignoreSelector: '.no-toc',
        headingSelector: 'h1, h2, h3, h4, h5, h6',
        hasInnerContainers: false,
        headingsOffset: 80,
        scrollSmoothOffset: -80
      });
    });
    </script>
  
  
    <script type="text/javascript" src="/res/libs/anchorjs/js/anchor.min.js"></script>
    <script>anchors.add('#main-body h1, #main-body h2, #main-body h3, #main-body h4, #main-body h5, #main-body h6, #main-body dt');</script>
  

  </body>
</html>
